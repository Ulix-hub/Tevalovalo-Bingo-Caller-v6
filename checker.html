<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bingo Checker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 2rem;
    }
    h1 { text-align: center; }
    .container {
      max-width: 650px;
      margin: 0 auto;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      padding: 1.5rem;
    }
    textarea {
      width: 100%;
      height: 120px;
      padding: 0.5rem;
      font-size: 1rem;
    }
    button {
      margin: 0.3rem;
      padding: 0.6rem 1rem;
      font-size: 1rem;
      border: none;
      border-radius: 6px;
      background: #007bff;
      color: white;
      cursor: pointer;
    }
    button:hover { background: #0056b3; }
    .preset-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 1rem;
    }
    .result {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 8px;
    }
    .ok { background: #d4edda; color: #155724; }
    .fail { background: #f8d7da; color: #721c24; }
  </style>
</head>
<body>
  <h1>Bingo Checker</h1>
  <div class="container">
    <p>Paste or type the numbers from the player‚Äôs card (separated by spaces or commas), or click a preset:</p>
    
    <textarea id="cardInput" placeholder="e.g. 1 15 34 52 70"></textarea>
    <button onclick="checkCard()">Check Card</button>

    <div class="preset-buttons">
      <button onclick="loadPreset('line1')">Line 1</button>
      <button onclick="loadPreset('line2')">Line 2</button>
      <button onclick="loadPreset('line3')">Line 3</button>
      <button onclick="loadPreset('line4')">Line 4</button>
      <button onclick="loadPreset('line5')">Line 5</button>
      <button onclick="loadPreset('line6')">Line 6</button>
      <button onclick="loadPreset('fh1')">Full House 1</button>
      <button onclick="loadPreset('fh2')">Full House 2</button>
      <button onclick="loadPreset('fh3')">Full House 3</button>
    </div>

    <div id="result" class="result"></div>
    <p style="font-size:0.9em;color:#666;text-align:center;">
      Board last updated: <span id="lastUpdate">never</span>
    </p>
  </div>

  <script>
    // üîπ Define preset cards here
    const PRESETS = {
      line1: [1, 7, 12, 25, 34],
      line2: [5, 18, 22, 41, 59],
      line3: [2, 15, 29, 33, 47],
      line4: [8, 19, 27, 45, 66],
      line5: [3, 16, 30, 52, 71],
      line6: [10, 24, 39, 54, 78],
      fh1: [1, 7, 12, 25, 34, 5, 18, 22, 41, 59, 2, 15, 29, 33, 47],
      fh2: [8, 19, 27, 45, 66, 3, 16, 30, 52, 71, 10, 24, 39, 54, 78],
      fh3: [6, 13, 28, 44, 55, 9, 20, 31, 46, 69, 11, 23, 35, 53, 80]
    };

    function getCalled() {
      try {
        const raw = localStorage.getItem('bingo_called_numbers');
        return raw ? JSON.parse(raw) : [];
      } catch (e) { return []; }
    }
    function getLastUpdate() {
      const ts = localStorage.getItem('bingo_called_updated');
      return ts ? new Date(Number(ts)).toLocaleString() : 'never';
    }
    function normalizeNumbers(text) {
      return text.split(/[^0-9]+/).map(x => parseInt(x,10)).filter(x => !isNaN(x));
    }

    function checkCard() {
      const called = new Set(getCalled());
      const input = document.getElementById('cardInput').value;
      const nums = normalizeNumbers(input);

      if (!nums.length) {
        alert("Please enter at least one number or use a preset.");
        return;
      }

      const missed = nums.filter(n => !called.has(n));
      const resultEl = document.getElementById('result');
      const lastUpdateEl = document.getElementById('lastUpdate');
      lastUpdateEl.textContent = getLastUpdate();

      if (missed.length === 0) {
        resultEl.textContent = "‚úÖ VALID! All numbers have been called.";
        resultEl.className = "result ok";
      } else {
        resultEl.textContent = "‚ùå INVALID! These numbers were not yet called: " + missed.join(", ");
        resultEl.className = "result fail";
      }
    }

    function loadPreset(name) {
      const nums = PRESETS[name] || [];
      document.getElementById('cardInput').value = nums.join(" ");
      checkCard();
    }

    // Show last update time on load
    document.getElementById('lastUpdate').textContent = getLastUpdate();
  </script>
</body>
</html>
